(()=>{"use strict";var t,e={68:(t,e,s)=>{var i,l=s(139);!function(t){t.NORMAL="normal",t.NORMAL_OVER="normal_over",t.NORMAL_DOWN="normal_down",t.DISABLE="disable",t.SELECT="select",t.SELECT_OVER="select_over",t.SELECT_DOWN="select_down"}(i||(i={}));class n{static getMaterial(t,e){switch(e){case i.DISABLE:return t.disable??t.normal;case i.NORMAL_OVER:return t.over??t.normal;case i.NORMAL_DOWN:return t.down??t.normal;case i.SELECT:return t.selectNormal??t.normal;case i.SELECT_OVER:return t.selectOver??t.normal;case i.SELECT_DOWN:return t.selectDown??t.normal;default:return t.normal}}}class o extends n{static addChild(t,e){this.remove(e);const s=this.getMaterialArray(e);for(let e of s)null!=e&&t.addChild(e)}static remove(t){const e=this.getMaterialArray(t);for(let t of e)t&&t.parent&&t.parent.removeChild(t)}static getMaterialArray(t){return[t.normal,t.over,t.down,t.disable,t.selectNormal,t.selectOver,t.selectDown,t.selectMarker]}static updateVisible(t,e){if(this.invisibleAll(t),this.getMaterial(t,e).visible=!0,t.selectMarker){const s=e===i.SELECT||e===i.SELECT_OVER||e===i.SELECT_DOWN;t.selectMarker.visible=s}}static invisibleAll(t){const e=this.getMaterialArray(t);for(let t of e)null!=t&&(t.visible=!1)}}class a extends n{static update(t,e,s){null!=t&&(t.style.fill=this.getMaterial(e,s),t.cacheAsBitmap&&(t.cacheAsBitmap=!1,t.cacheAsBitmap=!0))}}class r extends l.W20{constructor(t){super(),this.isDisable=!1,this.isPressed=!1,this.isOver=!1,this._frozen=!1,this._buttonValue=null,this._labelField=[],this.labelColors=[],this.interactive=!0,this.cursor="pointer",this.setMouseEvents(),t&&this.initMaterial(t)}setMouseEvents(){this.on("pointerdown",(t=>{this.pressButton(t)})),this.on("pointerup",(t=>{this.releaseButton(t)})),this.on("pointerover",(t=>{this.overButton(t)})),this.on("pointerout",(t=>{this.outButton(t)}))}initMaterial(t){this.material&&(o.remove(this.material),this.material=null),this.material=t,o.addChild(this,t),this.updateMaterialVisible(this.getButtonState()),this._labelField.forEach((t=>{this.removeChild(t),this.addChild(t)}))}updateMaterialVisible(t){o.updateVisible(this.material,t),this._labelField.forEach(((e,s)=>{a.update(e,this.labelColors[s],t)}))}pressButton(t){this.checkActivity()&&(this.isPressed=!0,this.updateMaterialVisible(i.NORMAL_DOWN))}releaseButton(t){if(!this.checkActivity())return;if(!this.isPressed)return;this.isPressed=!1;const e=this.isOver?i.NORMAL_OVER:i.NORMAL;this.updateMaterialVisible(e)}overButton(t){this.isOver=!0,this.checkActivity()&&this.updateMaterialVisible(i.NORMAL_OVER)}outButton(t){this.isOver=!1,this.isPressed=!1,this.checkActivity()&&this.updateMaterialVisible(i.NORMAL)}disableButton(){this.isDisable=!0,this.updateMouseEnabled(),this.updateMaterialVisible(i.DISABLE)}enableButton(){this.isDisable=!1,this.updateMouseEnabled(),this.updateMaterialVisible(i.NORMAL)}get frozen(){return this._frozen}set frozen(t){this._frozen=t,this.updateMouseEnabled()}updateMouseEnabled(){this.interactive=!this.isDisable&&!this._frozen}checkActivity(){return!this.isDisable&&!this._frozen&&this.interactive}getButtonState(){return this.isDisable?i.DISABLE:i.NORMAL}addLabel(t,e,s,i,n){this.labelColors.push(n),i.fill=n.normal,i.textBaseline="ideographic";const o=new l.xvT(s,i);return this._labelField.push(o),o.x=t,o.y=e,o.cacheAsBitmap=!0,o.interactive=o.interactiveChildren=!1,this.addChild(o),this._labelField.indexOf(o)}getLabel(t){return this._labelField?this._labelField[t].text:null}setLabel(t,e){if(0===this._labelField.length)return void console.warn("BasicButton : ボタンラベルが初期化されていませんが、ラベルの文言が指定されました。文言を指定する前にラベルの初期化をaddLabel関数で行ってください。");if(void 0===this._labelField[t])return void console.warn(`BasicButton : 指定されたindex : ${t}にラベルが存在しません。`);const s=this._labelField[t];s.text!==e&&(s.text=e)}getLabelField(t){return this._labelField[t]}get buttonValue(){return this._buttonValue}set buttonValue(t){this._buttonValue!=t&&(this._buttonValue=t)}}var c=s(55);class u extends c.P6.EventEmitter{constructor(t=!1){super(),this.isSelected=!1,this.isSelected=t}}class h{constructor(t,e){this.buttonValue=null,this.target=t,this.buttonValue=e}}class d extends r{constructor(t){super(t),this._selectionState=new u}get selectionState(){return this._selectionState}pressButton(t){if(!this.checkActivity())return;this.isPressed=!0;const e=this._selectionState.isSelected?i.SELECT_DOWN:i.NORMAL_DOWN;this.updateMaterialVisible(e)}releaseButton(t){this.checkActivity()&&this.isPressed&&(this.isPressed=!1,this._selectionState.isSelected?this.deselectButton(t):this.selectButton(t))}overButton(t){if(super.overButton(t),!this.checkActivity())return;const e=this._selectionState.isSelected?i.SELECT_OVER:i.NORMAL_OVER;this.updateMaterialVisible(e)}outButton(t){if(super.outButton(t),!this.isDisable){const t=this._selectionState.isSelected?i.SELECT:i.NORMAL;this.updateMaterialVisible(t)}this.checkActivity()}selectButton(t){if(this._selectionState.isSelected)return;if(this._selectionState.isSelected=!0,!this.isDisable){const t=this.isOver?i.SELECT_OVER:i.SELECT;this.updateMaterialVisible(t)}const e=new h(this,this.buttonValue);this._selectionState.emit("selected",e)}deselectButton(t){if(!this._selectionState.isSelected)return;if(!this.isDisable){const t=this.isOver?i.NORMAL_OVER:i.NORMAL;this.updateMaterialVisible(t)}this._selectionState.isSelected=!1;const e=new h(this,this.buttonValue);this._selectionState.emit("unselected",e)}enableButton(){super.enableButton();const t=this._selectionState.isSelected?i.SELECT:i.NORMAL;this.updateMaterialVisible(t)}getButtonState(){return this.isDisable?i.DISABLE:this._selectionState?.isSelected?i.SELECT:i.NORMAL}get selection(){return this.selectionState.isSelected}}class b extends d{constructor(t){super(t),this._selectionState.on("selected",(()=>{this.cursor="auto"})),this._selectionState.on("unselected",(()=>{this.cursor="pointer"}))}selectButton(t){if(this._selectionState.isSelected)return;this._selectionState.isSelected=!0,this.isDisable||this.updateMaterialVisible(i.SELECT);const e=new h(this,this.buttonValue);this._selectionState.emit("selected",e)}checkActivity(){return!this._selectionState.isSelected&&super.checkActivity()}}class _ extends c.P6.EventEmitter{constructor(){super(...arguments),this._buttons=[],this._selected=null}add(t){this._buttons.push(t),t.selectionState.on("selected",(t=>{const e=t;this.deselectOthers(e.target)}))}set selected(t){this._selected=t,null!=t?-1!==this._buttons.indexOf(t)?t.selectButton():console.warn("BasicRadioButtonManager : 選択対象として指定されたボタンが、BasicRadioButtonManagerの管理下にありません。指定を行う前にaddButton関数でボタンをBasicRadioButtonManagerに登録してください。"):this.deselectAllButtons()}get selected(){return this._selected}deselectOthers(t,e=!0){this._selected=t;for(let e of this._buttons)e!=t&&e.deselectButton();if(e){const t=new h(this._selected,this._selected.buttonValue);t.index=this._buttons.indexOf(this._selected),this.emit("selected",t)}}deselectAllButtons(){this._selected=null;for(let t of this._buttons)t.deselectButton();const t=new h(null,null);this.emit("unselected",t)}disableAll(){for(let t of this._buttons)t.disableButton()}disableMouseAll(){for(let t of this._buttons)t.interactive=!1}enableAll(){for(let t of this._buttons)t.enableButton()}enableMouseAll(){for(let t of this._buttons)t.interactive=!0}get selectedButtonValue(){const t=this.selected;return t?t.buttonValue:null}get buttons(){return this._buttons}getButton(t){for(let e of this._buttons)if(e.buttonValue===t&&null!=e.buttonValue)return e;return null}}const v=()=>{const t=new l.MxU({width:800,height:600});document.body.appendChild(t.view),f(t.stage),p(t.stage),S(t.stage),O(t.stage)},f=t=>{const e=new r(E());e.x=e.y=36;const s=B(e);e.setLabel(s,"Abcあ"),t.addChild(e)},p=t=>{const e=new d(E());e.y=36,e.x=200,B(e),e.buttonValue="__button__val__test",t.addChild(e),e.on("selected",(t=>{console.log(t)}))},S=t=>{const e=new _;for(let s=0;s<4;s++){const i=new b(E());i.y=128,i.x=36+164*s,B(i),i.buttonValue="__button__val__test__"+s,t.addChild(i),e.add(i)}e.selected=e.buttons[0],e.on("selected",(t=>{console.log(t)}))},O=t=>{const e=new _;for(let s=0;s<4;s++){const i=new b(E(!0));i.y=196,i.x=36+164*s,B(i),i.buttonValue="__button__val__test__"+s,t.addChild(i),e.add(i)}e.selected=e.buttons[0],e.on("selected",(t=>{console.log(t)}))},E=(t=!1)=>{const e={normal:M(16711935),over:M(16738047),down:M(16777215),selectNormal:M(3342387),selectOver:M(4465220),selectDown:M(3355443)};return t&&(console.log(t),e.selectMarker=m()),e},M=t=>{const e=new l.TCu;return e.beginFill(t).drawRect(0,0,128,32).endFill(),e},B=t=>t.addLabel(0,0,"Abcdefghijklあ",{fontSize:16},{normal:16777215,over:16711935,down:0,selectNormal:16777011,selectOver:65280,selectDown:10066329}),m=()=>{const t=new l.TCu;return t.beginFill(16711680).drawCircle(0,0,8).endFill(),t};"loading"!==document.readyState?v():document.addEventListener("DOMContentLoaded",v)}},s={};function i(t){var l=s[t];if(void 0!==l)return l.exports;var n=s[t]={id:t,loaded:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=e,t=[],i.O=(e,s,l,n)=>{if(!s){var o=1/0;for(u=0;u<t.length;u++){for(var[s,l,n]=t[u],a=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(i.O).every((t=>i.O[t](s[r])))?s.splice(r--,1):(a=!1,n<o&&(o=n));if(a){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,l,n]},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={577:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var l,n,[o,a,r]=s,c=0;if(o.some((e=>0!==t[e]))){for(l in a)i.o(a,l)&&(i.m[l]=a[l]);if(r)var u=r(i)}for(e&&e(s);c<o.length;c++)n=o[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},s=self.webpackChunk_masatomakino_pixijs_basic_button=self.webpackChunk_masatomakino_pixijs_basic_button||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var l=i.O(void 0,[736],(()=>i(68)));l=i.O(l)})();