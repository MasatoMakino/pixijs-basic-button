(()=>{"use strict";var e,t,s,i={3089(e,t,s){class i{constructor(e,t){this.target=e,this.buttonValue=t}}var l=s(2539);class o extends l.mcf{constructor(e){super(),this.isDisable=!1,this.isPressed=!1,this.isOver=!1,this._frozen=!1,this._buttonValue=void 0,this._labelField=[],this.labelColors=[],this.eventMode="static",this.cursor="pointer",this.setMouseEvents(),e&&this.initMaterial(e)}setMouseEvents(){this.on("pointerdown",e=>{this.pressButton(e)}),this.on("pointerup",e=>{this.releaseButton(e)}),this.on("pointerover",e=>{this.overButton(e)}),this.on("pointerout",e=>{this.outButton(e)})}initMaterial(e){this.material&&(u.remove(this.material),this.material=void 0),this.material=e,u.addChild(this,e),this.updateMaterialVisible(this.getButtonState()),this._labelField.forEach(e=>{this.removeChild(e),this.addChild(e)})}updateMaterialVisible(e){u.updateVisible(this.material,e),this._labelField.forEach((t,s)=>{d.update(t,this.labelColors[s],e)})}pressButton(e){this.checkActivity()&&(this.isPressed=!0,this.updateMaterialVisible("normal_down"))}releaseButton(e){this.checkActivity()&&this.isPressed&&(this.isPressed=!1,this.updateMaterialVisible(this.isOver?"normal_over":"normal"))}overButton(e){this.isOver=!0,this.checkActivity()&&this.updateMaterialVisible("normal_over")}outButton(e){this.isOver=!1,this.isPressed=!1,this.checkActivity()&&this.updateMaterialVisible("normal")}disableButton(){this.isDisable=!0,this.updateMouseEnabled(),this.updateMaterialVisible("disable")}enableButton(){this.isDisable=!1,this.updateMouseEnabled(),this.updateMaterialVisible("normal")}get frozen(){return this._frozen}set frozen(e){this._frozen=e,this.updateMouseEnabled()}updateMouseEnabled(){this.eventMode=this.isDisable||this._frozen?"none":"static"}checkActivity(){return!this.isDisable&&!this._frozen&&"none"!==this.eventMode}getButtonState(){return this.isDisable?"disable":"normal"}addLabel(e,t,s,i,o){this.labelColors.push(o),i.fill=o.normal,i.textBaseline="ideographic";const n=new l.EYj({text:s,style:i});return this._labelField.push(n),n.x=e,n.y=t,n.eventMode="none",this.addChild(n),this._labelField.indexOf(n)}getLabel(e){if(this._labelField)return this._labelField[e].text}setLabel(e,t){if(0===this._labelField.length)return void console.warn("BasicButton : ボタンラベルが初期化されていませんが、ラベルの文言が指定されました。文言を指定する前にラベルの初期化をaddLabel関数で行ってください。");if(void 0===this._labelField[e])return void console.warn(`BasicButton : 指定されたindex : ${e}にラベルが存在しません。`);const s=this._labelField[e];s.text!==t&&(s.text=t)}getLabelField(e){return this._labelField[e]}get buttonValue(){return this._buttonValue}set buttonValue(e){this._buttonValue!=e&&(this._buttonValue=e)}}class n extends o{get selectionState(){return this._selectionState}constructor(e){super(e),this._selectionState=new h}pressButton(e){this.checkActivity()&&(this.isPressed=!0,this.updateMaterialVisible(this._selectionState.isSelected?"select_down":"normal_down"))}releaseButton(e){this.checkActivity()&&this.isPressed&&(this.isPressed=!1,this._selectionState.isSelected?this.deselectButton(e):this.selectButton(e))}overButton(e){super.overButton(e),this.checkActivity()&&this.updateMaterialVisible(this._selectionState.isSelected?"select_over":"normal_over")}outButton(e){super.outButton(e),this.isDisable||this.updateMaterialVisible(this._selectionState.isSelected?"select":"normal"),this.checkActivity()}selectButton(e){if(this._selectionState.isSelected)return;this._selectionState.isSelected=!0,this.isDisable||this.updateMaterialVisible(this.isOver?"select_over":"select");const t=new i(this,this.buttonValue);this._selectionState.emit("selected",t)}deselectButton(e){if(!this._selectionState.isSelected)return;this.isDisable||this.updateMaterialVisible(this.isOver?"normal_over":"normal"),this._selectionState.isSelected=!1;const t=new i(this,this.buttonValue);this._selectionState.emit("unselected",t)}enableButton(){super.enableButton(),this.updateMaterialVisible(this._selectionState.isSelected?"select":"normal")}getButtonState(){return this.isDisable?"disable":this._selectionState?.isSelected?"select":"normal"}get selection(){return this.selectionState.isSelected}}class a extends n{constructor(e){super(e),this._selectionState.on("selected",()=>{this.cursor="auto"}),this._selectionState.on("unselected",()=>{this.cursor="pointer"})}selectButton(e){if(this._selectionState.isSelected)return;this._selectionState.isSelected=!0,this.isDisable||this.updateMaterialVisible("select");const t=new i(this,this.buttonValue);this._selectionState.emit("selected",t)}checkActivity(){return!this._selectionState.isSelected&&super.checkActivity()}}class r extends l.bkB{constructor(){super(...arguments),this._buttons=[],this._selected=void 0}add(e){this._buttons.push(e),e.selectionState.on("selected",e=>{const t=e;this.deselectOthers(t.target)})}set selected(e){this._selected=e,null!=e?-1!==this._buttons.indexOf(e)?e.selectButton():console.warn("BasicRadioButtonManager : 選択対象として指定されたボタンが、BasicRadioButtonManagerの管理下にありません。指定を行う前にaddButton関数でボタンをBasicRadioButtonManagerに登録してください。"):this.deselectAllButtons()}get selected(){return this._selected}deselectOthers(e,t=!0){this._selected=e;for(let t of this._buttons)t!=e&&t.deselectButton();if(t){const e=new i(this._selected,this._selected.buttonValue);e.index=this._buttons.indexOf(this._selected),this.emit("selected",e)}}deselectAllButtons(){this._selected=void 0;for(let e of this._buttons)e.deselectButton();const e=new i(void 0,void 0);this.emit("unselected",e)}disableAll(){for(let e of this._buttons)e.disableButton()}disableMouseAll(){for(let e of this._buttons)e.eventMode="none"}enableAll(){for(let e of this._buttons)e.enableButton()}enableMouseAll(){for(let e of this._buttons)e.eventMode="static"}get selectedButtonValue(){const e=this.selected;if(e)return e.buttonValue}get buttons(){return this._buttons}getButton(e){for(let t of this._buttons)if(t.buttonValue===e&&null!=t.buttonValue)return t;return null}}class c{static getMaterial(e,t){switch(t){case"disable":return e.disable??e.normal;case"normal_over":return e.over??e.normal;case"normal_down":return e.down??e.normal;case"select":return e.selectNormal??e.normal;case"select_over":return e.selectOver??e.normal;case"select_down":return e.selectDown??e.normal;default:return e.normal}}}class u extends c{static addChild(e,t){this.remove(t);const s=this.getMaterialArray(t);for(let t of s)null!=t&&e.addChild(t)}static remove(e){const t=this.getMaterialArray(e);for(let e of t)e&&e.parent&&e.parent.removeChild(e)}static getMaterialArray(e){return[e.normal,e.over,e.down,e.disable,e.selectNormal,e.selectOver,e.selectDown,e.selectMarker]}static updateVisible(e,t){null!=e&&(this.invisibleAll(e),this.getMaterial(e,t).visible=!0,e.selectMarker&&(e.selectMarker.visible="select"===t||"select_over"===t||"select_down"===t))}static invisibleAll(e){const t=this.getMaterialArray(e);for(let e of t)null!=e&&(e.visible=!1)}}class d extends c{static update(e,t,s){null!=e&&(e.style.fill=this.getMaterial(t,s))}}class h extends l.bkB{constructor(e=!1){super(),this.isSelected=!1,this.isSelected=e}}const b=async()=>{const e=new l.lgM;await e.init({width:800,height:600}),document.body.appendChild(e.canvas),(0,l.eEW)(e.renderer.name),v(e.stage),_(e.stage),p(e.stage),f(e.stage)},v=e=>{const t=new o(m());t.x=t.y=36;const s=S(t);t.setLabel(s,"Abcあ"),e.addChild(t)},_=e=>{const t=new n(m());t.y=36,t.x=200,S(t),t.buttonValue="__button__val__test",e.addChild(t),t.on("selected",e=>{console.log(e)})},p=e=>{const t=new r;for(let s=0;s<4;s++){const i=new a(m());i.y=128,i.x=36+164*s,S(i),i.buttonValue="__button__val__test__"+s,e.addChild(i),t.add(i)}t.selected=t.buttons[0],t.on("selected",e=>{console.log(e)})},f=e=>{const t=new r;for(let s=0;s<4;s++){const i=new a(m(!0));i.y=196,i.x=36+164*s,S(i),i.buttonValue="__button__val__test__"+s,e.addChild(i),t.add(i)}t.selected=t.buttons[0],t.on("selected",e=>{console.log(e)})},m=(e=!1)=>{const t={normal:g(16711935),over:g(16738047),down:g(16777215),selectNormal:g(3342387),selectOver:g(4465220),selectDown:g(3355443)};return e&&(t.selectMarker=w()),t},g=e=>(new l.A1g).rect(0,0,128,32).fill(e),S=e=>e.addLabel(0,0,"Abcdefghijklあ",{fontSize:16},{normal:16777215,over:16711935,down:0,selectNormal:16777011,selectOver:65280,selectDown:10066329}),w=()=>(new l.A1g).circle(0,0,8).fill(16711680);"loading"!==document.readyState?b():document.addEventListener("DOMContentLoaded",b)}},l={};function o(e){var t=l[e];if(void 0!==t)return t.exports;var s=l[e]={exports:{}};return i[e](s,s.exports,o),s.exports}o.m=i,e=[],o.O=(t,s,i,l)=>{if(!s){var n=1/0;for(u=0;u<e.length;u++){for(var[s,i,l]=e[u],a=!0,r=0;r<s.length;r++)(!1&l||n>=l)&&Object.keys(o.O).every(e=>o.O[e](s[r]))?s.splice(r--,1):(a=!1,l<n&&(n=l));if(a){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,i,l]},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,s)=>(o.f[s](e,t),t),[])),o.u=e=>e+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s="@masatomakino/pixijs-basic-button:",o.l=(e,i,l,n)=>{if(t[e])t[e].push(i);else{var a,r;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==s+l){a=d;break}}a||(r=!0,(a=document.createElement("script")).charset="utf-8",o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",s+l),a.src=e),t[e]=[i];var h=(s,i)=>{a.onerror=a.onload=null,clearTimeout(b);var l=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),l&&l.forEach(e=>e(i)),s)return s(i)},b=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),r&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=s[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={594:0};o.f.j=(t,s)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var l=new Promise((s,l)=>i=e[t]=[s,l]);s.push(i[2]=l);var n=o.p+o.u(t),a=new Error;o.l(n,s=>{if(o.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var l=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+l+": "+n+")",a.name="ChunkLoadError",a.type=l,a.request=n,i[1](a)}},"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,s)=>{var i,l,[n,a,r]=s,c=0;if(n.some(t=>0!==e[t])){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(r)var u=r(o)}for(t&&t(s);c<n.length;c++)l=n[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},s=self.webpackChunk_masatomakino_pixijs_basic_button=self.webpackChunk_masatomakino_pixijs_basic_button||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=o.O(void 0,[121],()=>o(3089));n=o.O(n)})();